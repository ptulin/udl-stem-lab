(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{7054:function(e,s,r){Promise.resolve().then(r.bind(r,1301))},1301:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return d}});var l=r(7437),a=r(2265),n=r(9376),t=r(2097),i=r(6795),o=r(3548);function d(){let e=(0,n.useRouter)(),s=(0,n.useParams)().moduleId,r=(0,t.q)(e=>e.sessionId),d=(0,t.q)(e=>e.preferences),[c,u]=(0,a.useState)({obj1:.7,obj2:.8,obj3:.9}),m=(0,i.rT)(s),h=r?(0,o.I)(r):null;return((0,a.useEffect)(()=>{if(!m){e.push("/modules");return}if(h){let e=h.getEvents().filter(e=>"check_answered"===e.type),s=e.filter(e=>{var s;return null===(s=e.data)||void 0===s?void 0:s.correct}).length,r=e.length;if(r>0){let e=s/r;u({obj1:.9*e,obj2:.95*e,obj3:e})}}},[m,h,e]),m)?(0,l.jsx)("main",{className:"min-h-screen p-4 bg-gradient-to-b from-primary-50 to-white",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-primary-900",children:"Lab Results"}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold",children:m.title}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Mastery Snapshot"}),(0,l.jsx)("div",{className:"space-y-4",children:m.objectives.map((e,s)=>{let r=Math.round(100*c["obj".concat(s+1)]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("span",{className:"font-medium",children:e.text}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:[r,"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,l.jsx)("div",{className:"h-4 rounded-full transition-all ".concat(r>=80?"bg-green-500":r>=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(r,"%")},role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"".concat(e.text,": ").concat(r,"% mastery")})})]},e.id)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Supports Used"}),(0,l.jsxs)("div",{className:"space-y-2",children:[d.udl.audioNarration&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"✓"}),(0,l.jsx)("span",{children:"Audio narration"})]}),d.udl.simplifiedLanguage&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"✓"}),(0,l.jsx)("span",{children:"Simplified language"})]}),d.udl.symbolGlossary&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"✓"}),(0,l.jsx)("span",{children:"Symbol glossary"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"✓"}),(0,l.jsxs)("span",{children:["Difficulty: ",d.udl.difficultyLevel]})]})]})]}),(d.udl.showBadges||d.udl.showPoints)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Achievements"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[d.udl.showPoints&&(0,l.jsxs)("div",{className:"px-4 py-2 bg-yellow-100 rounded-lg border border-yellow-300",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Points: "}),(0,l.jsx)("span",{children:Math.round(100*Object.values(c).reduce((e,s)=>e+s,0))})]}),d.udl.showBadges&&(0,l.jsxs)(l.Fragment,{children:[c.obj1>.7&&(0,l.jsx)("div",{className:"px-4 py-2 bg-blue-100 rounded-lg border border-blue-300",children:"\uD83C\uDFC6 Circuit Master"}),c.obj2>.7&&(0,l.jsx)("div",{className:"px-4 py-2 bg-green-100 rounded-lg border border-green-300",children:"\uD83C\uDFAF Prediction Pro"}),c.obj3>.7&&(0,l.jsx)("div",{className:"px-4 py-2 bg-purple-100 rounded-lg border border-purple-300",children:"\uD83D\uDD27 Builder Badge"})]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Next Recommended Action"}),(0,l.jsx)("p",{className:"text-sm text-gray-700",children:Object.values(c).some(e=>e<.7)?"Consider repeating steps where you struggled, or try the challenge mode for extra practice.":"Great work! You've mastered the concepts. Try the challenge mode to test your skills further."})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)("button",{onClick:()=>{if(!h)return;let e=new Blob([JSON.stringify({moduleId:s,sessionId:r,mastery:c,supportsUsed:{audioNarration:d.udl.audioNarration,simplifiedLanguage:d.udl.simplifiedLanguage,symbolGlossary:d.udl.symbolGlossary,difficultyLevel:d.udl.difficultyLevel},events:h.getEvents(),exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),l=URL.createObjectURL(e),a=document.createElement("a");a.href=l,a.download="lab-summary-".concat(s,"-").concat(r,".json"),a.click(),URL.revokeObjectURL(l)},className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-300","aria-label":"Export summary",children:"Export Summary"}),(0,l.jsx)("button",{onClick:()=>e.push("/modules"),className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Back to modules",children:"Back to Modules"}),(0,l.jsx)("button",{onClick:()=>e.push("/teacher"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-300","aria-label":"View teacher dashboard",children:"Teacher Dashboard"})]})]})]})}):(0,l.jsx)("div",{children:"Loading..."})}},2097:function(e,s,r){"use strict";r.d(s,{q:function(){return t}});var l=r(9625),a=r(6885);let n={udl:{audioNarration:!1,simplifiedLanguage:!1,symbolGlossary:!1,difficultyLevel:"standard",showPoints:!0,showBadges:!0,responseMode:"multiple-choice"},accessibility:{highContrast:!1,reduceMotion:!1,fontSize:2,keyboardOnlyMode:!1}},t=(0,l.Ue)()((0,a.tJ)(e=>({role:"student",preferences:n,currentModule:null,currentStep:0,sessionId:null,setRole:s=>e({role:s}),setPreferences:s=>e({preferences:s}),setCurrentModule:s=>e({currentModule:s}),setCurrentStep:s=>e({currentStep:s}),setSessionId:s=>e({sessionId:s})}),{name:"udl-stem-lab-storage",storage:(0,a.FL)(()=>localStorage)}))}},function(e){e.O(0,[299,27,971,117,744],function(){return e(e.s=7054)}),_N_E=e.O()}]);